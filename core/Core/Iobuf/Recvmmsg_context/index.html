<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="generator" content=
"HTML Tidy for HTML5 for Linux version 5.6.0" />
<meta charset="utf-8" />
<title>Recvmmsg_context (core.Core.Iobuf.Recvmmsg_context)</title>
<link rel="stylesheet" href="../../../../odoc.css" />
<meta name="viewport" content=
"width=device-width,initial-scale=1.0" />
<script src="../../../../highlight.pack.js"></script>
<script>
<![CDATA[
hljs.initHighlightingOnLoad();
]]>
</script>
</head>
<body>
<div class="content">
<header>
<nav><a href="../index.html">Up</a> – <a href=
"../../../index.html">core</a> » <a href=
"../../index.html">Core</a> » <a href="../index.html">Iobuf</a> »
Recvmmsg_context</nav>
<h1>Module <code>Iobuf.Recvmmsg_context</code></h1>
<p><code>recvmmsg</code>'s context comprises data needed by the
system call. Setup can be expensive, particularly for many
buffers.</p>
<p>NOTE: Unlike most system calls involving iobufs, the lo offset
is not respected. Instead, the iobuf is implicity
<code>reset</code> (i.e., <code>lo &lt;- lo_min</code> and <code>hi
&lt;- hi_max</code>) prior to reading and a <code>flip_lo</code>
applied afterward. This is to prevent the memory-unsafe case where
an iobuf's lo pointer is advanced and <code>recvmmsg</code>
attempts to copy into memory exceeding the underlying
<code>bigstring</code>'s capacity. If any of the returned iobufs
have had their underlying bigstring or limits changed (e.g.,
through a call to <code>set_bounds_and_buffer</code> or
<code>narrow_lo</code>), the call will fail with
<code>EINVAL</code>.</p>
</header>
<dl>
<dt class="spec type" id="type-iobuf"><a href="#type-iobuf" class=
"anchor"></a><code><span class="keyword">type</span> <span>('rw,
'seek) iobuf</span></code></dt>
<dt class="spec type" id="type-t"><a href="#type-t" class=
"anchor"></a><code><span class="keyword">type</span> t</code></dt>
</dl>
<dl>
<dt class="spec value" id="val-create"><a href="#val-create" class=
"anchor"></a><code><span class="keyword">val</span> create :
<span><span><span>(<span>[&gt; <a href=
"../../../Core__/Import/index.html#type-write">Core__.Import.write</a>
]</span>,&nbsp;<a href="../index.html#type-seek">seek</a>)</span>
<a href="index.html#type-iobuf">iobuf</a></span> array</span>
<span>-&gt;</span> <a href="index.html#type-t">t</a></code></dt>
<dd>
<p>Do not change these <code>Iobuf</code>'s <code>buf</code>s or
limits before calling
<code>recvmmsg_assume_fd_is_nonblocking</code>.</p>
</dd>
</dl>
</div>
</body>
</html>
