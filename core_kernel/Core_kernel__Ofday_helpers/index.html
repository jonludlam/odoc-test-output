<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="generator" content=
"HTML Tidy for HTML5 for Linux version 5.2.0" />
<title>Core_kernel__Ofday_helpers
(core_kernel.Core_kernel__Ofday_helpers)</title>
<link rel="stylesheet" href="../../odoc.css" />
<meta charset="utf-8" />
<meta name="viewport" content=
"width=device-width,initial-scale=1.0" />
<script src="../../highlight.pack.js">
</script>
<script>
<![CDATA[
hljs.initHighlightingOnLoad();
]]>
</script>
</head>
<body>
<div class="content">
<header>
<nav><a href="../index.html">Up</a> – <a href=
"../index.html">core_kernel</a> » Core_kernel__Ofday_helpers</nav>
<h1>Module <code>Core_kernel__Ofday_helpers</code></h1>
<p>This module is only used in the implementation of ofday.ml, and
isn't exposed as a submodule of <code>Core_kernel</code>.</p>
</header>
<dl>
<dt class="spec value" id="val-parse"><a href="#val-parse" class=
"anchor"></a><code><span class="keyword">val</span> parse :
<a href="../Core_kernel__/Import/index.html#type-string">Core_kernel__.Import.string</a>
<span>-&gt;</span> f:(<a href=
"../Core_kernel__/Import/index.html#type-string">Core_kernel__.Import.string</a>
<span>-&gt;</span> hr:<a href=
"../Core_kernel__/Import/index.html#type-int">Core_kernel__.Import.int</a>
<span>-&gt;</span> min:<a href=
"../Core_kernel__/Import/index.html#type-int">Core_kernel__.Import.int</a>
<span>-&gt;</span> sec:<a href=
"../Core_kernel__/Import/index.html#type-int">Core_kernel__.Import.int</a>
<span>-&gt;</span> subsec_pos:<a href=
"../Core_kernel__/Import/index.html#type-int">Core_kernel__.Import.int</a>
<span>-&gt;</span> subsec_len:<a href=
"../Core_kernel__/Import/index.html#type-int">Core_kernel__.Import.int</a>
<span>-&gt;</span> <span class="type-var">'a</span>)
<span>-&gt;</span> <span class="type-var">'a</span></code></dt>
<dd>
<p>Parses a given time-of-day string. If the string is invalid,
raises. If the string is valid, calls <code>f</code> with the
string, the parsed numbers of hours, minutes, and seconds, and the
position and length of the substring representing subseconds, which
can be parsed with the appropriate precision for a given
representation.</p>
<p>The substring <code>String.sub string ~pos:subsec_pos
~len:subsec_len</code> will be either the empty string
(representing zero) or a decimal point ('.') and one or more digits
and/or underscores (representing a fractional number of seconds in
decimal notation).</p>
<p>Illegal hours, minutes, or seconds values are rejected by
<code>parse</code>, as are times with the hour of 24 and non-zero
minutes or seconds. The time "24:00:00" itself is accepted. If
seconds is 60 (a leap second), the client will be passed
<code>~subsec_len:0</code> regardless of the subsecond part.</p>
</dd>
</dl>
<dl>
<dt class="spec value" id="val-parse_iso8601_extended"><a href=
"#val-parse_iso8601_extended" class="anchor"></a><code><span class=
"keyword">val</span> parse_iso8601_extended : ?⁠pos:<a href=
"../Core_kernel__/Import/index.html#type-int">Core_kernel__.Import.int</a>
<span>-&gt;</span> ?⁠len:<a href=
"../Core_kernel__/Import/index.html#type-int">Core_kernel__.Import.int</a>
<span>-&gt;</span> <a href=
"../Core_kernel__/Import/index.html#type-string">Core_kernel__.Import.string</a>
<span>-&gt;</span> f:(<a href=
"../Core_kernel__/Import/index.html#type-string">Core_kernel__.Import.string</a>
<span>-&gt;</span> hr:<a href=
"../Core_kernel__/Import/index.html#type-int">Core_kernel__.Import.int</a>
<span>-&gt;</span> min:<a href=
"../Core_kernel__/Import/index.html#type-int">Core_kernel__.Import.int</a>
<span>-&gt;</span> sec:<a href=
"../Core_kernel__/Import/index.html#type-int">Core_kernel__.Import.int</a>
<span>-&gt;</span> subsec_pos:<a href=
"../Core_kernel__/Import/index.html#type-int">Core_kernel__.Import.int</a>
<span>-&gt;</span> subsec_len:<a href=
"../Core_kernel__/Import/index.html#type-int">Core_kernel__.Import.int</a>
<span>-&gt;</span> <span class="type-var">'a</span>)
<span>-&gt;</span> <span class="type-var">'a</span></code></dt>
<dd>
<p>As <code>parse</code>, for strings in ISO 8601 extended format.
Allows substring parsing via <code>~pos</code> and
<code>~len</code> arguments.</p>
</dd>
</dl>
<dl>
<dt class="spec value" id="val-invalid_string"><a href=
"#val-invalid_string" class="anchor"></a><code><span class=
"keyword">val</span> invalid_string : <a href=
"../Core_kernel__/Import/index.html#type-string">Core_kernel__.Import.string</a>
<span>-&gt;</span> reason:<a href=
"../Core_kernel__/Import/index.html#type-string">Core_kernel__.Import.string</a>
<span>-&gt;</span> <span class="type-var">_</span></code></dt>
<dd>
<p>Raises ofday-parsing errors for the given string, annotated with
the given reason. Useful inside the <code>~f</code> argument to
<code>parse</code> in order to generate error messages that are
consistent with what <code>parse</code> raises.</p>
</dd>
</dl>
<dl>
<dt class="spec value" id="val-am_suffixes"><a href=
"#val-am_suffixes" class="anchor"></a><code><span class=
"keyword">val</span> am_suffixes : <a href=
"../Core_kernel__/Import/index.html#type-string">Core_kernel__.Import.string</a>
<a href=
"../Core_kernel__/Import/index.html#type-list">Core_kernel__.Import.list</a>
<a href=
"../Core_kernel/Lazy/index.html#type-t">Core_kernel.Lazy.t</a></code></dt>
<dd>
<p>Allowed AM/PM suffixes; useful for testing.</p>
</dd>
</dl>
<dl>
<dt class="spec value" id="val-pm_suffixes"><a href=
"#val-pm_suffixes" class="anchor"></a><code><span class=
"keyword">val</span> pm_suffixes : <a href=
"../Core_kernel__/Import/index.html#type-string">Core_kernel__.Import.string</a>
<a href=
"../Core_kernel__/Import/index.html#type-list">Core_kernel__.Import.list</a>
<a href=
"../Core_kernel/Lazy/index.html#type-t">Core_kernel.Lazy.t</a></code></dt>
</dl>
</div>
</body>
</html>
